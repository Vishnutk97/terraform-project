trigger:
  branches:
    include:
      - master  # Replace 'main' with the appropriate branch name

pool:
  vmImage: 'ubuntu-latest'  # Choose the appropriate agent based on your requirements

steps:
- script: |
    # Install Terraform (if not already installed)
    # Replace the version with the desired Terraform version
    curl -o terraform.zip https://releases.hashicorp.com/terraform/1.5.3/terraform_1.5.3_linux_amd64.zip
    unzip terraform.zip
    sudo mv terraform /usr/local/bin/
  displayName: 'Install Terraform'
- task: TerraformTaskV4@4
  inputs:
    provider: 'azurerm'
    command: 'init'
    backendServiceArm: 'Azure for Students(324ab21b-0045-4562-84eb-01df0f16517c)'
    backendAzureRmResourceGroupName: 'My-terraform-grp'
    backendAzureRmStorageAccountName: 'My-new-container'
    backendAzureRmContainerName: 'vishnu690777'
    backendAzureRmKey: '$(terraform.statetf)'
